<!--
Event Horizon - Futuristic Event Management Platform
Copyright (C) 2025-2026 Arnav Ghosh

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <https://www.gnu.org/licenses/>.
-->
{% extends "base.html" %}

{% block title %}Event Horizon - Organize, Explore, and Transcend Your Events{% endblock %}
{% block meta_title %}Event Horizon - Ultimate Event Management & Registration Platform{% endblock %}
{% block meta_description %}Discover and manage events seamlessly with Event Horizon. The ultimate event management platform featuring OAuth integration, user profiles, dynamic registration, and real-time event discovery.{% endblock %}
{% block meta_keywords %}event management platform, event registration system, oauth event platform, event discovery, event organization, user event profiles, event registration{% endblock %}

{% block og_title %}Event Horizon - The Point of No Return for Your Social Calendar{% endblock %}
{% block og_description %}Organize, explore, and transcend via the ultimate event platform. Discover upcoming events, manage registrations, and connect with your community.{% endblock %}

{% block twitter_title %}Event Horizon - Ultimate Event Management Platform{% endblock %}
{% block twitter_description %}The point of no return for your social calendar. Organize, explore, and transcend via the ultimate event platform.{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Event Horizon",
  "description": "The ultimate event management platform with OAuth integration and user profiles",
  "url": "{{ request.build_absolute_uri }}",
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "{{ request.scheme }}://{{ request.get_host }}/events/?q={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  }
}
</script>
{% endblock %}

{% block content %}
<div class="relative min-h-screen flex flex-col justify-center items-center overflow-hidden bg-black font-sans selection:bg-orange-500 selection:text-white">
  <!-- Deep Space Background -->
  <div class="absolute inset-0 z-0">
    <div class="stars-sm"></div>
    <div class="stars-md"></div>
    <div class="stars-lg"></div>
  </div>

  <style>
    /* Star Fields */
    .stars-sm, .stars-md, .stars-lg {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: transparent;
    }
    .stars-sm { background-image: radial-gradient(1px 1px at 10px 10px, rgba(255,255,255,0.4) 50%, transparent 100%), radial-gradient(1px 1px at 150px 250px, rgba(255,255,255,0.4) 50%, transparent 100%); background-size: 350px 350px; animation: star-move 100s linear infinite; }
    .stars-md { background-image: radial-gradient(2px 2px at 50px 150px, rgba(255,255,255,0.5) 50%, transparent 100%), radial-gradient(2px 2px at 300px 60px, rgba(255,255,255,0.5) 50%, transparent 100%); background-size: 550px 550px; opacity: 0.6; animation: star-move 150s linear infinite; }
    .stars-lg { background-image: radial-gradient(3px 3px at 100px 400px, rgba(255,255,255,1) 50%, transparent 100%); background-size: 750px 750px; opacity: 0.4; animation: star-move 200s linear infinite; }

    @keyframes star-move { from { transform: translateY(0); } to { transform: translateY(-1000px); } }

    /* Gargantua Container */
    .gargantua-container {
      position: absolute;
      width: 800px;
      height: 800px;
      display: flex;
      justify-content: center;
      align-items: center;
      transform: scale(0.8); /* Adjust for mobile/desktop */
      z-index: 0;
      opacity: 0.9;
    }

    /* The Shadow (Event Horizon) */
    .shadow {
      position: absolute;
      width: 200px;
      height: 200px;
      background-color: #000;
      border-radius: 50%;
      z-index: 20;
      box-shadow: 0 0 50px 10px rgba(0,0,0,1); /* Deep darkness */
    }

    /* The Accretion Disk (Flat Spin) */
    .disk {
      position: absolute;
      width: 600px;
      height: 600px;
      border-radius: 50%;
      background: 
        radial-gradient(circle at center, transparent 45%, #ffad5c 50%, #ff6838 60%, transparent 70%);
      transform: rotateX(75deg);
      box-shadow: 0 0 100px rgba(255, 100, 0, 0.4);
      animation: disk-spin 20s linear infinite;
      z-index: 10;
      opacity: 0.9;
    }
    
    /* Simulate uneven matter distribution */
    .disk::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 50%;
        background: repeating-conic-gradient(
            transparent 0deg,
            rgba(255, 150, 50, 0.2) 20deg,
            transparent 40deg
        );
        mix-blend-mode: overlay;
    }

    /* The "Lensing" Effect (Back of disk bent up) */
    /* We use a vertical ring behind the shadow to simulate the light from behind bending over */
    .lensing-ring {
      position: absolute;
      width: 580px;
      height: 580px;
      border-radius: 50%;
      background: radial-gradient(circle, transparent 50%, #ff9500 55%, transparent 65%);
      /* This transforms it to "stand up" behind the black hole */
      transform: translateY(-40px) scaleY(0.9); 
      opacity: 0.6;
      z-index: 5;
      filter: blur(10px);
      clip-path: polygon(0 0, 100% 0, 100% 50%, 0 50%); /* Only show top half */
    }
    
    /* Lensing Bottom (Back of disk bent down) */
    .lensing-ring-bottom {
      position: absolute;
      width: 580px;
      height: 580px;
      border-radius: 50%;
      background: radial-gradient(circle, transparent 50%, #ff9500 55%, transparent 65%);
      transform: translateY(40px) scaleY(0.9); 
      opacity: 0.6;
      z-index: 5;
      filter: blur(10px);
      clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%); /* Only show bottom half */
    }

    /* The Photon Ring (Bright thin circle immediately around shadow) */
    .photon-ring {
        position: absolute;
        width: 210px;
        height: 210px;
        border-radius: 50%;
        border: 2px solid rgba(255, 200, 150, 0.8);
        box-shadow: 0 0 30px rgba(255, 150, 50, 0.8), inset 0 0 20px rgba(255, 150, 50, 0.5);
        z-index: 15;
        /* Slight distortion */
        transform: scale(1.02, 0.98); 
        filter: blur(1px);
    }

    @keyframes disk-spin {
      0% { transform: rotateX(75deg) rotate(0deg); }
      100% { transform: rotateX(75deg) rotate(360deg); }
    }
    
    /* Interactive Hover Effect on Text */
    .hero-text {
        text-shadow: 0 10px 30px rgba(0,0,0,0.8);
    }
  </style>

  <!-- The Beast -->
  <div class="gargantua-container" role="presentation" aria-hidden="true">
    <div class="lensing-ring"></div>
    <div class="lensing-ring-bottom"></div>
    <div class="disk"></div>
    <div class="photon-ring"></div>
    <div class="shadow"></div>
  </div>

  <!-- Content Layer -->
  <div class="relative z-30 flex flex-col items-center justify-center w-full px-4 text-center hero-text mt-32">
    <h1 class="text-6xl md:text-8xl font-black tracking-tighter text-white drop-shadow-2xl mb-6 tracking-wide uppercase">
      Event <span class="text-transparent bg-clip-text bg-gradient-to-br from-orange-300 via-orange-500 to-red-600">Horizon</span>
    </h1>
    
    <p class="max-w-2xl text-lg md:text-xl text-gray-300 font-light tracking-wide mb-10 drop-shadow-md">
      The point of no return for your social calendar. <br> Organize, explore, and transcend via the ultimate event platform.
    </p>

    <div class="flex flex-col sm:flex-row gap-5 w-full justify-center items-center">
      {% if user.is_authenticated %}
        <a href="{% url 'event-list' %}" class="group relative px-8 py-4 bg-white text-black font-bold text-sm tracking-widest uppercase overflow-hidden rounded-sm transition-all hover:scale-105 hover:shadow-[0_0_40px_rgba(255,255,255,0.5)]">
          <span class="relative z-10">Initiate Launch</span>
          <div class="absolute inset-0 bg-gray-200 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></div>
        </a>
        <a href="{% url 'profile' %}" class="px-8 py-4 border border-white/30 text-white font-bold text-sm tracking-widest uppercase rounded-sm hover:bg-white/10 hover:border-white transition-all backdrop-blur-md">
          Command Deck
        </a>
      {% else %}
        <a href="{% url 'account_signup' %}" class="group relative px-8 py-4 bg-orange-600 text-white font-bold text-sm tracking-widest uppercase overflow-hidden rounded-sm transition-all hover:bg-orange-500 hover:shadow-[0_0_40px_rgba(255,100,0,0.6)]">
          Join the Mission
        </a>
        <a href="{% url 'account_login' %}" class="px-8 py-4 border border-white/30 text-white font-bold text-sm tracking-widest uppercase rounded-sm hover:bg-white/10 hover:border-white transition-all backdrop-blur-md">
          Authenticate
        </a>
      {% endif %}
    </div>

    <!-- Live Event Feed (Holographic Style) -->
    <div class="mt-24 w-full max-w-6xl opacity-0 animate-fade-in-up" style="animation-delay: 1s; animation-fill-mode: forwards;">
      <div class="flex items-center justify-between mb-4 px-2">
         <h2 class="text-xs font-bold uppercase tracking-[0.2em] text-gray-500">Incoming Transmissions</h2>
         <div class="h-px bg-gray-800 flex-grow ml-4"></div>
      </div>
      
      <div id="events-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6">
        {% for event in upcoming_events %}
          <a href="{% url 'event-detail' event.slug %}" class="group block relative bg-black/40 border border-white/10 p-5 hover:border-orange-500/50 transition-colors duration-300 backdrop-blur-sm rounded-sm">
             <div class="absolute inset-0 bg-gradient-to-t from-orange-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
             <h4 class="text-white font-bold text-lg truncate relative z-10">{{ event.title }}</h4>
             <div class="mt-2 flex items-center text-xs text-orange-400 font-mono relative z-10">
                <span class="w-2 h-2 rounded-full bg-orange-500 mr-2 animate-pulse"></span>
                {{ event.start_time|date:"M d, Y" }}
             </div>
             <p class="mt-1 text-gray-500 text-xs uppercase tracking-wider truncate relative z-10">{{ event.location }}</p>
          </a>
        {% empty %}
          <div class="col-span-3 text-center py-8 border border-dashed border-gray-800 rounded-lg">
              <p class="text-gray-500 font-mono text-sm">NO ACTIVE SIGNALS IN RANGE</p>
          </div>
        {% endfor %}
       </div>
     </div>

     <!-- Footer Links -->
     <div class="mt-8 text-center text-xs text-gray-500">
       <a href="{% url 'terms' %}" class="hover:text-white transition-colors">Terms of Service</a> | 
       <a href="{% url 'privacy' %}" class="hover:text-white transition-colors">Privacy Policy</a>
     </div>
   </div>
</div>

  </div>
</div>

<style>
  @keyframes fade-in-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in-up { animation: fade-in-up 1s ease-out; }
</style>
{% endblock %}

{% block floating_buttons %}
<!-- Floating community / repo reminders (landing only) -->
<div class="fixed bottom-6 right-6 z-50 flex flex-col gap-3 sm:flex-row" style="position: fixed; bottom: 1.5rem; right: 1.5rem;">
  <a
    href="https://brocode-tech.netlify.app"
    target="_blank"
    rel="noopener noreferrer"
    class="group inline-flex items-center gap-3 rounded-2xl border border-white/10 bg-gradient-to-r from-purple-700 to-orange-600 px-5 py-3 shadow-2xl shadow-orange-500/10 transition hover:brightness-110"
    aria-label="Visit BroCode Tech Community"
  >
    <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-black/20 ring-1 ring-white/15">
      <img
        src="https://brocode-tech.netlify.app/img/compressed-logo.jpg"
        alt="BroCode Tech"
        class="h-8 w-8 rounded-lg object-cover"
        loading="lazy"
      />
    </span>
    <span class="flex flex-col leading-tight">
      <span class="text-sm font-semibold text-white">BroCode Tech</span>
      <span class="text-xs text-white/80">Join the community</span>
    </span>
  </a>

  <a
    href="https://github.com/NotoriousArnav/EventHorizon"
    target="_blank"
    rel="noopener noreferrer"
    class="group inline-flex items-center gap-3 rounded-2xl border border-white/10 bg-[#24292f] px-5 py-3 shadow-2xl shadow-black/30 transition hover:bg-[#2b3137]"
    aria-label="View Event Horizon source code on GitHub"
  >
    <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-white/10 ring-1 ring-white/15">
      <svg viewBox="0 0 16 16" aria-hidden="true" class="h-6 w-6 fill-white">
        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8Z"></path>
      </svg>
    </span>
    <span class="flex flex-col leading-tight">
      <span class="text-sm font-semibold text-white">Event Horizon</span>
      <span class="text-xs text-white/80">Star the repo</span>
    </span>
  </a>
</div>
{% endblock %}
